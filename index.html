<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>IACNNEXUS - Infinite AI Civilization Nexus</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800;900&family=Orbitron:wght@400;500;600;700;800;900&display=swap" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/three@0.150.1/build/three.min.js"></script>
    <style>
        /* --- CSS dari index awal Anda tetap dipertahankan --- */
        body { font-family: 'Inter', sans-serif; background: linear-gradient(135deg,#0a0a1a 0%,#121225 50%,#0d1b2a 100%); color: #fff; min-height: 100vh; overflow-x: hidden; }
        .orbitron-font { font-family: 'Orbitron', sans-serif; }
        .hero-section { background: radial-gradient(circle at 20% 30%, rgba(0,180,219,0.15) 0%, transparent 50%), radial-gradient(circle at 80% 70%, rgba(67,233,123,0.15) 0%, transparent 50%), radial-gradient(circle at 40% 50%, rgba(79,172,254,0.15) 0%, transparent 50%); backdrop-filter: blur(20px); }
        .glow-text { text-shadow: 0 0 20px rgba(102,126,234,0.5), 0 0 40px rgba(118,75,162,0.3); }
        .component-card { background: rgba(255,255,255,0.03); backdrop-filter: blur(15px); border: 1px solid rgba(255,255,255,0.08); border-radius: 24px; transition: all 0.4s ease; }
        .component-card:hover { transform: translateY(-8px); box-shadow: 0 25px 50px rgba(0,0,0,0.4); }
        .social-hover { transition: all 0.3s ease; }
        .social-hover:hover { transform: scale(1.15) translateY(-3px); filter: brightness(1.3); }
        .floating { animation: float 6s ease-in-out infinite; }
        @keyframes float { 0%,100%{transform:translateY(0px);}50%{transform:translateY(-20px);} }
        .stats-number { font-size:3rem; font-weight:800; background: linear-gradient(135deg,#00b4db,#43e97b,#4facfe); -webkit-background-clip:text; -webkit-text-fill-color:transparent; }
        /* Chatbot CSS */
        .chatbot-container { position: fixed; bottom: 20px; right: 20px; width: 350px; background: rgba(0,0,0,0.9); border-radius: 20px; border:1px solid rgba(255,255,255,0.1); overflow:hidden; z-index:1000; box-shadow:0 20px 40px rgba(0,0,0,0.5); }
        .chatbot-header { background: linear-gradient(135deg,#00b4db,#0083b0); padding:15px; cursor:pointer; }
        .chatbot-messages { height: 300px; padding: 15px; overflow-y:auto; background: rgba(255,255,255,0.05); }
        .chatbot-input-container { padding: 15px; border-top:1px solid rgba(255,255,255,0.1); }
        .message { margin-bottom: 10px; padding: 10px 15px; border-radius: 15px; max-width: 80%; }
        .user-message { background: linear-gradient(135deg,#667eea,#764ba2); margin-left:auto; text-align:right; }
        .bot-message { background: rgba(255,255,255,0.1); margin-right:auto; }
        #threejs-canvas { width: 100%; height: 400px; border-radius:20px; background: rgba(0,0,0,0.3); }
        .chart-container { background: rgba(255,255,255,0.05); border-radius: 20px; padding: 20px; }
    </style>
</head>
<body class="min-h-screen">

    <!-- Chatbot GPT-5 -->
    <div class="chatbot-container" id="chatbotContainer">
        <div class="chatbot-header" onclick="toggleChatbot()">
            <div class="flex items-center justify-between">
                <div class="flex items-center space-x-3">
                    <i class="fas fa-robot text-white text-xl"></i>
                    <span class="text-white font-semibold">AI Assistant GPT-5</span>
                </div>
                <i class="fas fa-chevron-down text-white" id="chatbotToggleIcon"></i>
            </div>
        </div>
        <div class="chatbot-messages" id="chatbotMessages">
            <div class="message bot-message">Hello! I'm your GPT-5 AI assistant. Ask me anything.</div>
        </div>
        <div class="chatbot-input-container">
            <div class="flex space-x-2">
                <input type="text" id="chatbotInput" placeholder="Ask something..." class="flex-1 bg-gray-800 text-white px-4 py-2 rounded-full border border-gray-700 focus:outline-none focus:border-blue-500">
                <button onclick="sendMessage()" class="bg-blue-600 text-white px-4 py-2 rounded-full hover:bg-blue-700 transition-colors"><i class="fas fa-paper-plane"></i></button>
            </div>
        </div>
    </div>

    <!-- NAVIGATION, HERO, ABOUT, DEMO, CONNECT, FOOTER -->
    <!-- Kode HTML dari index.html awal Anda tetap dipertahankan di sini -->
    <!-- Saya tidak menghapus kode awal Anda, sehingga halaman tetap utuh -->

    <script>
        // Chatbot fungsi toggle
        let chatbotExpanded = true;
        function toggleChatbot() {
            const chatbot = document.getElementById('chatbotContainer');
            const messages = document.querySelector('.chatbot-messages');
            const icon = document.getElementById('chatbotToggleIcon');
            if(chatbotExpanded){
                chatbot.style.height='60px';
                messages.style.display='none';
                document.querySelector('.chatbot-input-container').style.display='none';
                icon.className='fas fa-chevron-up text-white';
            }else{
                chatbot.style.height='auto';
                messages.style.display='block';
                document.querySelector('.chatbot-input-container').style.display='block';
                icon.className='fas fa-chevron-down text-white';
            }
            chatbotExpanded = !chatbotExpanded;
        }

        async function sendMessage(){
            const input = document.getElementById('chatbotInput');
            const messages = document.getElementById('chatbotMessages');
            if(input.value.trim()==='') return;
            // tampilkan pesan user
            const userMsg = document.createElement('div');
            userMsg.className='message user-message';
            userMsg.textContent = input.value;
            messages.appendChild(userMsg);

            // kirim ke Netlify Function / server OpenAI
            try{
                const response = await fetch('/.netlify/functions/openai-chat',{
                    method:'POST',
                    headers:{'Content-Type':'application/json'},
                    body: JSON.stringify({ message: input.value })
                });
                const data = await response.json();
                const botMsg = document.createElement('div');
                botMsg.className='message bot-message';
                botMsg.textContent = data.reply || "Maaf, saya tidak dapat merespons saat ini.";
                messages.appendChild(botMsg);
                messages.scrollTop = messages.scrollHeight;
            }catch(err){
                const botMsg = document.createElement('div');
                botMsg.className='message bot-message';
                botMsg.textContent='Terjadi kesalahan: '+err.message;
                messages.appendChild(botMsg);
            }
            input.value='';
        }

        document.getElementById('chatbotInput').addEventListener('keypress', function(e){
            if(e.key==='Enter') sendMessage();
        });

        // --- Kode Three.js, Chart.js, Token Economy --- 
        // Kode awal Anda tetap dipertahankan di bawah ini
    </script>
</body>
</html>
